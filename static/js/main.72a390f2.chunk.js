(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{44:function(e,t,a){e.exports=a(72)},49:function(e,t,a){},50:function(e,t,a){},51:function(e,t,a){},65:function(e,t,a){},66:function(e,t,a){},67:function(e,t,a){},68:function(e,t,a){},69:function(e,t,a){},71:function(e,t,a){},72:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(16),o=a.n(i),c=(a(49),a(8)),l=a(9),s=a(10),u=a(11),p=a(12),m=(a(50),a(6)),b=a(1),d=a(4),h=(a(20),a(51),a(3)),f=a(18),g=a.n(f);a(58),a(59),a(60);f.initializeApp({apiKey:"AIzaSyDS4HMTx8MAmmFbsbnvU3muvyjcrFFebAk",authDomain:"bioviz-webapp.firebaseapp.com",databaseURL:"https://bioviz-webapp.firebaseio.com",projectId:"bioviz-webapp",storageBucket:"bioviz-webapp.appspot.com",messagingSenderId:"377420984887",appId:"1:377420984887:web:37b52a53fccb69ae5785b2",measurementId:"G-T9XZ7VYC5S"});var O,j,y,E,v,w,N,k,C,P,S,F,B,z,D,U,A,x,I,R,L,T,M,q,H,_,W,V,G,X,Y,J,Z,K,$,Q,ee,te,ae,ne,re,ie,oe,ce,le,se,ue,pe,me,be,de,he,fe,ge,Oe,je,ye,Ee,ve,we=f.firestore(),Ne=(f.storage(),f.auth()),ke=new(O=function(){function e(){var t=this;Object(c.a)(this,e),Object(m.a)(this,"user",j,this),Object(m.a)(this,"error",y,this),Object(m.a)(this,"isError",E,this),Object(m.a)(this,"isNewUSer",v,this),Object(m.a)(this,"isLogged",w,this),Object(m.a)(this,"statusChecked",N,this),Object(m.a)(this,"profilePhoto",k,this),Object(m.a)(this,"currentEmail",C,this),Object(m.a)(this,"currentUsername",P,this),Object(m.a)(this,"profilePhotoURL",S,this),Object(m.a)(this,"credentials",F,this),Object(m.a)(this,"newUser",B,this),Object(m.a)(this,"currentUserInfo",z,this),Ne.onAuthStateChanged(function(e){e?(t.user=e,t.isLogged=!0,t.statusChecked=!0,t.getUserData(t.user.uid),console.log("hello",t.isNewUSer),t.isNewUSer&&(t.addNewUser(t.user),t.isNewUSer=!1)):(t.isLogged=!1,t.statusChecked=!0)})}return Object(l.a)(e,[{key:"register",value:function(e,t,a){var n=this;this.credentials.name=e,this.credentials.email=t,this.credentials.password=a;Ne.createUserWithEmailAndPassword(t,a).then(function(){n.isNewUSer=!0}).catch(function(e){var t=e.code,a=e.message;n.isError=!0,"auth/weak-password"==t?alert("The password is too weak."):alert(a)}),this.isError=!1}},{key:"addNewUser",value:function(e){this.newUser.name=this.credentials.name,this.newUser.email=e.email,this.newUser.id=e.uid;var t=this;we.collection("users").add(this.newUser).then(function(e){t.isNewUSer=!1,t.credentials={name:"",email:"",password:""},t.newUser={name:"",email:"",id:""}}).catch(function(e){console.error("Error adding document: ",e)}),console.log("Subido")}},{key:"getUserData",value:function(e){console.log("obteniendo info.....");var t=this;we.collection("users").where("id","==",e).get().then(function(e){e.forEach(function(e){console.log("encontr\xf3 el doc....."),t.currentUserInfo={name:e.data().name,email:e.data().email,id:e.data().id},console.log("el doc es .....",e.data()),console.log(t.currentUserInfo.name)})})}},{key:"setStatusChecked",value:function(e){this.statusChecked=e}},{key:"login",value:function(e,t){Ne.signInWithEmailAndPassword(e,t).catch(function(e){e.code;var t=e.message;!1,alert(t)}),window.history.go(1)}},{key:"signOut",value:function(){console.log(g.a.auth().currentUser,"va cerrar sesi\xf3n"),Ne.signOut(),this.user=null,console.log(g.a.auth().currentUser,"cerr\xf3 sesi\xf3n"),this.isLogged=!1,this.currentUserInfo={name:"",email:"",id:""}}},{key:"updateUserStatus",value:function(){this.isLogged=!0}},{key:"setProfilePhoto",value:function(e){this.profilePhoto=e}},{key:"uploadProfilePhoto",value:function(e){}},{key:"retrieveProfilePhoto",value:function(e){var t=this,a=g.a.storage().ref(),n=this.currentEmail;if(null!=n){var r=n.split("@")[0]+".jpg";console.log("foto perfil",r),console.log("foto url",a.child("profile_photos/sebrestrepo.jpg")),a.child("profile_photos/"+r).getDownloadURL().then(function(e){var a=new XMLHttpRequest;return a.responseType="blob",a.onload=function(e){a.response},a.open("GET",e),a.send(),t.profilePhotoURL=e,console.log("foto: ",e),e}).catch(function(e){})}}}]),e}(),j=Object(d.a)(O.prototype,"user",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),y=Object(d.a)(O.prototype,"error",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),E=Object(d.a)(O.prototype,"isError",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v=Object(d.a)(O.prototype,"isNewUSer",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),w=Object(d.a)(O.prototype,"isLogged",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),N=Object(d.a)(O.prototype,"statusChecked",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),k=Object(d.a)(O.prototype,"profilePhoto",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),C=Object(d.a)(O.prototype,"currentEmail",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),P=Object(d.a)(O.prototype,"currentUsername",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),S=Object(d.a)(O.prototype,"profilePhotoURL",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),F=Object(d.a)(O.prototype,"credentials",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",email:"",password:""}}}),B=Object(d.a)(O.prototype,"newUser",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",email:"",id:""}}}),z=Object(d.a)(O.prototype,"currentUserInfo",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{name:"",email:"",id:""}}}),Object(d.a)(O.prototype,"register",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"register"),O.prototype),Object(d.a)(O.prototype,"getUserData",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"getUserData"),O.prototype),Object(d.a)(O.prototype,"setStatusChecked",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"setStatusChecked"),O.prototype),Object(d.a)(O.prototype,"login",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"login"),O.prototype),Object(d.a)(O.prototype,"signOut",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"signOut"),O.prototype),Object(d.a)(O.prototype,"updateUserStatus",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"updateUserStatus"),O.prototype),Object(d.a)(O.prototype,"setProfilePhoto",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"setProfilePhoto"),O.prototype),Object(d.a)(O.prototype,"uploadProfilePhoto",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"uploadProfilePhoto"),O.prototype),Object(d.a)(O.prototype,"retrieveProfilePhoto",[h.d],Object.getOwnPropertyDescriptor(O.prototype,"retrieveProfilePhoto"),O.prototype),O),Ce=a(17),Pe=a(13),Se=Object(Pe.a)(Object(Ce.f)(function(e){return r.a.createElement("form",{className:"sign-in",onSubmit:function(e){e.preventDefault(),ke.login(ke.credentials.email,ke.credentials.password)}},r.a.createElement("div",{className:"form-imput"},r.a.createElement("label",null,"Correo Electr\xf3nico*"),r.a.createElement("input",{type:"text",id:"mail",name:"mail",required:!0,onChange:function(e){ke.credentials.email=e.target.value}})),r.a.createElement("div",{className:"form-imput"},r.a.createElement("label",null,"Contrase\xf1a*"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,onChange:function(e){ke.credentials.password=e.target.value}})),r.a.createElement("button",{className:"sign-in-btn"},"Iniciar Sesi\xf3n"),r.a.createElement("p",null,"\xbfA\xfan no tienes cuenta? ",r.a.createElement("a",null,"Reg\xedstrate")))})),Fe=a(29),Be=(D=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"file",U,Object(b.a)(a)),Object(m.a)(a,"fileName",A,Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"img-dropzone"},r.a.createElement(Fe.a,{onDrop:function(t){console.log(t[0]);var a=new FileReader;a.onload=function(t){e.file=t.target.result,console.log(e.file)},a.readAsDataURL(t[0])}},function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",null,r.a.createElement("div",a(),r.a.createElement("input",n()),r.a.createElement("div",{className:"add-img-btn",style:{display:e.file?"none":"flex"}},r.a.createElement("img",{src:"./assets/add-profile-ph-btn.png",alt:""}),r.a.createElement("p",null,"Agrega una foto de perfil"))))}),this.file&&r.a.createElement("div",{className:"user-img-div"},r.a.createElement("img",{className:"user-img",src:this.file,width:"140",style:{borderRadius:"100px"}}),r.a.createElement("p",{onClick:function(){ke.setProfilePhoto(e.file)}},"\xa1Foto de perfil, lista!")))}}]),t}(n.Component),U=Object(d.a)(D.prototype,"file",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=Object(d.a)(D.prototype,"fileName",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),D),ze=Object(Pe.a)(Be),De=Object(Pe.a)(Object(Ce.f)(function(e){return r.a.createElement("form",{className:"sign-up",onSubmit:function(e){e.preventDefault()}},r.a.createElement(ze,null),r.a.createElement("div",{className:"form-imput"},r.a.createElement("label",null,"Nombres y Apellidos*"),r.a.createElement("input",{type:"text",id:"name",name:"name",onChange:function(e){ke.credentials.name=e.target.value}})),r.a.createElement("div",{className:"form-imput"},r.a.createElement("label",null,"Correo Electr\xf3nico*"),r.a.createElement("input",{type:"text",id:"mail",name:"mail",required:!0,onChange:function(e){ke.credentials.email=e.target.value}})),r.a.createElement("div",{className:"form-imput"},r.a.createElement("label",null,"Contrase\xf1a*"),r.a.createElement("input",{type:"password",id:"password",name:"password",required:!0,onChange:function(e){ke.credentials.password=e.target.value}})),r.a.createElement("button",{className:"sign-up-btn",onClick:function(){ke.register(ke.credentials.name,ke.credentials.email,ke.credentials.password)}},"Registrarse"),r.a.createElement("p",null,"\xbfYa tienes una cuenta? ",r.a.createElement("a",null,"Inicia Sesi\xf3n")))})),Ue=Object(Pe.a)((I=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"signInForm",R,Object(b.a)(a)),Object(m.a)(a,"isRegistered",L,Object(b.a)(a)),Object(h.e)(function(){ke.isLogged?e.history.push("/home"):e.history.push("/")}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"handleLoginState",value:function(e){this.signInForm=e}},{key:"render",value:function(){var e=this;return n.createElement("div",{className:"Login"},n.createElement("section",{className:"info-section"},n.createElement("div",{className:"logo"},"BioViz"),n.createElement("div",{className:"img-div"},n.createElement("img",{src:"./assets/login-photo.png",alt:"",width:"410"})),n.createElement("h1",null,"\xa1Hola!"),n.createElement("p",null,"Bienvenido/a a la plataforma de an\xe1lisis y etiquetado bioac\xfastico ",n.createElement("br",null),"  m\xe1s usada por todos los bi\xf3logos en el mundo entero. "),n.createElement("p",{className:"statement"},"Organiza, etiqueta y comparte.")),n.createElement("section",{className:"login-section"},n.createElement("div",{className:"login-box"},n.createElement("div",{className:"login-options-btns"},n.createElement("button",{className:"login-btn",id:"sign-in-state",onClick:function(){e.handleLoginState(!0),console.log("sign in state",e.signInForm)},style:{borderBottom:this.signInForm?"3px solid #35E285":"0px solid #35E285"}},"Iniciar Sesi\xf3n"),n.createElement("button",{className:"login-btn",id:"sign-up-state",onClick:function(){e.handleLoginState(!1),console.log("sign up state",e.signInForm)},style:{borderBottom:this.signInForm?"0px solid #35E285":"3px solid #35E285"}},"Registrarse")),n.createElement("div",{className:"form-box",style:{padding:this.signInForm?"45px 30px 45px 30px":"20px 30px 25px 30px"}},this.signInForm?n.createElement(Se,null):n.createElement(De,null)))))}}]),t}(n.Component),R=Object(d.a)(I.prototype,"signInForm",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),L=Object(d.a)(I.prototype,"isRegistered",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),x=I))||x,Ae=(a(65),a(66),new(T=function(){function e(){Object(c.a)(this,e),Object(m.a)(this,"isDashOpen",M,this),Object(m.a)(this,"isHomeActive",q,this),Object(m.a)(this,"isProjectsActive",H,this),Object(m.a)(this,"navBarTitle",_,this)}return Object(l.a)(e,[{key:"openDash",value:function(){this.isDashOpen=!this.isDashOpen}},{key:"onDahshNavClick",value:function(e){switch(e){case"home":this.isHomeActive=!0,this.isProjectsActive=!1,this.navBarTitle="Inicio";break;case"projects":this.isHomeActive=!1,this.isProjectsActive=!0,this.navBarTitle="Proyectos"}}}]),e}(),M=Object(d.a)(T.prototype,"isDashOpen",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),q=Object(d.a)(T.prototype,"isHomeActive",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),H=Object(d.a)(T.prototype,"isProjectsActive",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),_=Object(d.a)(T.prototype,"navBarTitle",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Inicio"}}),Object(d.a)(T.prototype,"openDash",[h.d],Object.getOwnPropertyDescriptor(T.prototype,"openDash"),T.prototype),Object(d.a)(T.prototype,"onDahshNavClick",[h.d],Object.getOwnPropertyDescriptor(T.prototype,"onDahshNavClick"),T.prototype),T)),xe=Object(Pe.a)(W=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return n.createElement("section",{className:Ae.isDashOpen?"dash-menu open":"dash-menu closed"},n.createElement("div",{className:"logo"},n.createElement("p",null,"Bioviz"),n.createElement("img",{onClick:function(){return Ae.openDash()},src:"./assets/dashmenu-icons/expand-dash.svg",alt:""})),n.createElement("div",{className:"dash-icon",id:"home-icon"},n.createElement("span",{id:"home-btn",className:Ae.isHomeActive?"selected":"",onClick:function(){Ae.onDahshNavClick("home")}},n.createElement("img",{src:"./assets/dashmenu-icons/home-button.svg",alt:""}),n.createElement("h4",null,"Inicio")),Ae.isHomeActive?n.createElement(Ce.a,{to:"/home"}):Ae.isProjectsActive?n.createElement(Ce.a,{to:"/projects"}):""),n.createElement("div",{className:"dash-icon",id:"analysis-icon"},n.createElement("span",{id:"analysis-btn",className:Ae.isProjectsActive?"selected":"",onClick:function(){Ae.onDahshNavClick("projects")}},n.createElement("img",{src:"./assets/dashmenu-icons/projects-button.svg",alt:""}),n.createElement("h4",null,"Proyectos"))))}}]),t}(n.Component))||W,Ie=(a(67),a(68),V=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"showProfileMenu",G,Object(b.a)(a)),Object(m.a)(a,"profileBtnSelected",X,Object(b.a)(a)),Object(m.a)(a,"configBtnSelected",Y,Object(b.a)(a)),Object(m.a)(a,"signOutBtnSelected",J,Object(b.a)(a)),Object(m.a)(a,"profileBtnOver",Z,Object(b.a)(a)),Object(m.a)(a,"configBtnOver",K,Object(b.a)(a)),Object(m.a)(a,"signOutBtnOver",$,Object(b.a)(a)),Object(m.a)(a,"profilePhoto",Q,Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"profile-icon"},ke.isLogged?"":r.a.createElement(Ce.a,{to:"/"}),r.a.createElement("button",{onClick:function(){e.showProfileMenu=!e.showProfileMenu},className:"profile-photo"},""!==ke.profilePhotoURL?r.a.createElement("img",{src:""+ke.profilePhotoURL,alt:"",width:"37",style:{borderRadius:"100px"}}):r.a.createElement("img",{src:"./assets/generic-profile-photo.png",alt:"",width:"35"})),this.showProfileMenu?r.a.createElement("div",{className:"complete-menu"},r.a.createElement("div",{className:"profile-menu"},r.a.createElement("button",{onClick:function(){e.profileBtnSelected=!e.profileBtnSelected,e.configBtnSelected=!1,e.signOutBtnSelected=!1},onMouseOver:function(){e.profileBtnSelected=!0},onMouseOut:function(){e.profileBtnSelected=!1,console.log("lmao")},style:{backgroundColor:this.profileBtnSelected?"#35E285":this.profileBtnOver?"#C4C4C4":"#FFFFFF"}},"VER PERFIL"),r.a.createElement("button",{className:"config-btn",onClick:function(){e.profileBtnSelected=!1,e.configBtnSelected=!e.configBtnSelected,e.signOutBtnSelected=!1},onMouseOver:function(){e.configBtnSelected=!0},onMouseOut:function(){e.configBtnSelected=!1,console.log("lmao")},style:{backgroundColor:this.configBtnSelected?"#35E285":this.configBtnOver?"#C4C4C4":"#FFFFFF"}},"CONFIGURACI\xd3N"),r.a.createElement("button",{onMouseOver:function(){e.signOutBtnSelected=!0},onMouseOut:function(){e.signOutBtnSelected=!1,console.log("lmao")},style:{backgroundColor:this.signOutBtnSelected?"#35E285":this.signOutBtnOver?"#C4C4C4":"#FFFFFF"},onClick:function(){ke.signOut(),console.log("CERRANDO SESI\xd3N LOL"),e.profileBtnSelected=!1,e.configBtnSelected=!1,e.signOutBtnSelected=!e.signOutBtnSelected}},"CERRAR SESI\xd3N"))):"")}}]),t}(n.Component),G=Object(d.a)(V.prototype,"showProfileMenu",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Object(d.a)(V.prototype,"profileBtnSelected",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=Object(d.a)(V.prototype,"configBtnSelected",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),J=Object(d.a)(V.prototype,"signOutBtnSelected",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(d.a)(V.prototype,"profileBtnOver",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=Object(d.a)(V.prototype,"configBtnOver",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),$=Object(d.a)(V.prototype,"signOutBtnOver",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Q=Object(d.a)(V.prototype,"profilePhoto",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V),Re=Object(Pe.a)(Ie),Le=Object(Pe.a)((te=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"signInForm",ae,Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"mainNavBar"},r.a.createElement("h3",null,this.props.title),r.a.createElement(Re,null))}}]),t}(r.a.Component),ae=Object(d.a)(te.prototype,"signInForm",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ee=te))||ee,Te=Object(Pe.a)(Le),Me=Object(Pe.a)((re=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"signInForm",ie,Object(b.a)(a)),Object(h.e)(function(){ke.isLogged?e.history.push("/home"):e.history.push("/")}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"home"},r.a.createElement(xe,null),r.a.createElement(Te,{title:Ae.navBarTitle}))}}]),t}(r.a.Component),ie=Object(d.a)(re.prototype,"signInForm",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),ne=re))||ne,qe=Object(Pe.a)(Me),He=a(26),_e=(a(69),new(oe=function(){function e(){Object(c.a)(this,e),Object(m.a)(this,"username",ce,this),Object(m.a)(this,"projects",le,this),Object(m.a)(this,"text",se,this),Object(m.a)(this,"profile_photo",ue,this),Object(m.a)(this,"audioFileURL",pe,this),Object(m.a)(this,"audioFileUploaded",me,this),Object(m.a)(this,"projectName",be,this),Object(m.a)(this,"audioName",de,this),Object(m.a)(this,"showNewProjectForm",he,this),Object(m.a)(this,"creationStep",fe,this),Object(m.a)(this,"stepTitle",ge,this),Object(m.a)(this,"monacDistribution",Oe,this),Object(m.a)(this,"monitoringSystems",je,this)}return Object(l.a)(e,[{key:"addProjectToDB",value:function(e,t,a){this.setAudioFileUploaded(!1)}},{key:"getCurrentDate",value:function(){var e=new Date,t=e.getDate(),a=e.getMonth()+1,n=e.getFullYear(),r=e.getHours()+":"+e.getMinutes();return t<10&&(t="0"+t),a<10&&(a="0"+a),e=a+"/"+t+"/"+n+" "+r}},{key:"setAudioFileUploaded",value:function(e){this.audioFileUploaded=e}},{key:"setAudioName",value:function(e){this.audioName=e}},{key:"uploadAudioFile",value:function(e){var t=this,a=g.a.storage().ref(),n=ke.currentEmail;console.log(ke.currentEmail);var r=n.split("@");a.child("audio_files/"+r[0]+"/"+this.projectName+"/"+this.audioName).putString(e,"data_url").then(function(e){console.log("Uploaded a base64url string!"),t.retrieveAudioFile()})}},{key:"retrieveAudioFile",value:function(){var e=this,t=g.a.storage().ref(),a=ke.currentEmail;console.log("USER EMAIL:",a);var n=a.split("@"),r=n[0]+"-"+this.projectName+".mp3";console.log("audiofilename",r),t.child("audio_files/"+n[0]+"/"+this.projectName+"/"+this.audioName).getDownloadURL().then(function(t){var a=new XMLHttpRequest;return a.responseType="blob",a.onload=function(e){a.response},a.open("GET",t),a.send(),e.audioFileURL=t,e.setAudioFileUploaded(!0),console.log("foto: ",t),t}).catch(function(e){})}},{key:"onCreateProject",value:function(){this.showNewProjectForm=!0}},{key:"onCancelProjectCreation",value:function(){this.showNewProjectForm=!1}},{key:"setStepTitle",value:function(){switch(this.creationStep){case 0:this.showNewProjectForm=!1,this.creationStep=1;break;case 1:this.stepTitle="Detalles del Proyecto";break;case 2:this.stepTitle="Objetivo del proyecto";break;case 3:this.stepTitle="Datos recolectados";break;case 4:this.showNewProjectForm=!1,this.creationStep=1}}},{key:"onNextStepClick",value:function(){this.creationStep+=1,console.log(this.creationStep),this.setStepTitle()}},{key:"onStepBackClick",value:function(){this.creationStep-=1,this.setStepTitle()}}]),e}(),ce=Object(d.a)(oe.prototype,"username",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return ke.currentUsername}}),le=Object(d.a)(oe.prototype,"projects",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),se=Object(d.a)(oe.prototype,"text",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ue=Object(d.a)(oe.prototype,"profile_photo",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),pe=Object(d.a)(oe.prototype,"audioFileURL",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),me=Object(d.a)(oe.prototype,"audioFileUploaded",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),be=Object(d.a)(oe.prototype,"projectName",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),de=Object(d.a)(oe.prototype,"audioName",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Object(d.a)(oe.prototype,"addProjectToDB",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"addProjectToDB"),oe.prototype),Object(d.a)(oe.prototype,"setAudioFileUploaded",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"setAudioFileUploaded"),oe.prototype),Object(d.a)(oe.prototype,"setAudioName",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"setAudioName"),oe.prototype),Object(d.a)(oe.prototype,"uploadAudioFile",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"uploadAudioFile"),oe.prototype),Object(d.a)(oe.prototype,"retrieveAudioFile",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"retrieveAudioFile"),oe.prototype),he=Object(d.a)(oe.prototype,"showNewProjectForm",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Object(d.a)(oe.prototype,"onCreateProject",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"onCreateProject"),oe.prototype),Object(d.a)(oe.prototype,"onCancelProjectCreation",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"onCancelProjectCreation"),oe.prototype),fe=Object(d.a)(oe.prototype,"creationStep",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 1}}),ge=Object(d.a)(oe.prototype,"stepTitle",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Detalles del Proyecto"}}),Oe=Object(d.a)(oe.prototype,"monacDistribution",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{value:"6",label:"Hex\xe1gono"},{value:"4",label:"Cruz"},{value:"5",label:"Pent\xe1gono"}]}}),je=Object(d.a)(oe.prototype,"monitoringSystems",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[{value:"arbimon",label:"Arbimon"},{value:"monac",label:"MONAC"},{value:"audiomoth",label:"AudioMoth"}]}}),Object(d.a)(oe.prototype,"setStepTitle",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"setStepTitle"),oe.prototype),Object(d.a)(oe.prototype,"onNextStepClick",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"onNextStepClick"),oe.prototype),Object(d.a)(oe.prototype,"onStepBackClick",[h.d],Object.getOwnPropertyDescriptor(oe.prototype,"onStepBackClick"),oe.prototype),oe)),We=a(30);a(70);var Ve,Ge,Xe,Ye,Je,Ze,Ke,$e=(ye=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"audioFile",Ee,Object(b.a)(a)),Object(m.a)(a,"audioFileName",ve,Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"audio-dropzone"},r.a.createElement(Fe.a,{onDrop:function(t){console.log(t[0]);var a=new FileReader;a.onload=function(a){e.audioFile=a.target.result,_e.setAudioName(t[0].name),console.log("THIS IS THE AUDIO FILE",t[0].name)},a.readAsDataURL(t[0])}},function(t){var a=t.getRootProps,n=t.getInputProps;return r.a.createElement("section",{className:"audio-drop-section",style:{display:e.audioFile?"none":"flex"}},r.a.createElement("div",a(),r.a.createElement("input",n()),r.a.createElement("div",{className:"add-audio-dropzone"},r.a.createElement("img",{src:"./assets/audio-drop-arrow.png",alt:""}),r.a.createElement("p",null,".MP3 O .WAV"))))}),this.audioFile&&r.a.createElement("div",{className:"user-audio-div"},r.a.createElement("h3",null,"Perfecto, has seleccionado un audio."),r.a.createElement("div",{className:"upload-audio-btn",onClick:function(){_e.uploadAudioFile(e.audioFile)}},"\xa1Subir audio!")))}}]),t}(n.Component),Ee=Object(d.a)(ye.prototype,"audioFile",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ve=Object(d.a)(ye.prototype,"audioFileName",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),ye),Qe=Object(Pe.a)($e),et=[{value:"diana",label:"diana@icesi.edu.co"},{value:"strawberry",label:"caarce@icesi.edu.co"},{value:"vanilla",label:"gustavo@icesi.edu.co"}],tt=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"create-project"},r.a.createElement("span",{className:"title-row"},r.a.createElement("img",{onClick:function(){return _e.onStepBackClick()},src:"./assets/gen-icons/back-arrow.svg",width:"27px",alt:""}),r.a.createElement("h1",null,_e.stepTitle),r.a.createElement("img",{onClick:function(){return _e.onCancelProjectCreation()},src:"./assets/gen-icons/close-x.svg",width:"21px",alt:""})),1==_e.creationStep?r.a.createElement("section",{className:"details"},r.a.createElement("form",{className:"content"},r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Nombre del proyecto"),r.a.createElement("input",{placeholder:"Escribe el nombre del proyecto",type:"text"})),r.a.createElement("br",null),r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Descripci\xf3n del proyecto"),r.a.createElement("textarea",{placeholder:"Resume tu proyecto en unas cuantas palabras...",name:"",id:""})),r.a.createElement("br",null),r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Colegas"),r.a.createElement(We.a,{isMulti:!0,name:"colors",placeholder:"Busca colegas por su correo electr\xf3nico",options:et,className:"basic-multi-select",classNamePrefix:"select"})))):2==_e.creationStep?r.a.createElement("section",{id:"objective"},r.a.createElement("div",{className:"location-cont"},r.a.createElement("form",{className:"content"},r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Zona de localizaci\xf3n"),r.a.createElement("input",{placeholder:"Ingresa una direcci\xf3n o coordenadas",type:"text"})),r.a.createElement("div",{className:"map"}))),r.a.createElement("div",{className:"species-cont"},r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Especies a estudiar"),r.a.createElement("input",{placeholder:"Por nombre cient\xedfico o com\xfan",type:"text"})),r.a.createElement("p",{className:"green-link"},"Agregar las especies usuales de la zona de estudio"),r.a.createElement("div",{className:"species-list-cont"}))):3==_e.creationStep?r.a.createElement("section",{id:"data-collection"},r.a.createElement("div",{className:"method-cont"},r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Modos de recolecci\xf3n"),r.a.createElement("br",null),r.a.createElement("span",{className:"checks-cont"},r.a.createElement("label",{className:"check-container"},r.a.createElement("input",{type:"checkbox"}),"Por intervalos",r.a.createElement("span",{className:"checkmark"})),r.a.createElement("label",{className:"check-container"},r.a.createElement("input",{type:"checkbox"}),"Continua",r.a.createElement("span",{className:"checkmark"})))),r.a.createElement("span",{className:"row-question-structure"},r.a.createElement("label",null," Duraci\xf3n en minutos"),r.a.createElement("input",{placeholder:"0 min",type:"number"})),r.a.createElement("span",{className:"row-question-structure"},r.a.createElement("label",null," Frecuencia en el d\xeda"),r.a.createElement("input",{placeholder:"0",type:"number"})),r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Tipo de micr\xf3fono utilizado"),r.a.createElement(We.a,{placeholder:"Escoger dispositivo",options:_e.monitoringSystems})),r.a.createElement("span",{className:"question-structure"},r.a.createElement("label",{className:"green-subtitle"},"Distribuci\xf3n de micr\xf3fonos de MONAC utilizada"),r.a.createElement(We.a,{placeholder:"Escoger distribuci\xf3n",options:_e.monacDistribution}))),r.a.createElement("div",{className:"audio-cont"},r.a.createElement("label",{className:"green-subtitle"},"Audios recolectados"),r.a.createElement(Qe,null))):"",r.a.createElement("button",{id:"nextBtn",className:"mainBtn",onClick:function(){return _e.onNextStepClick()}},"Siguiente"))}}]),t}(n.Component),at=Object(Pe.a)(tt),nt=(a(71),Object(Pe.a)((Ge=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"searchBarClicked",Xe,Object(b.a)(a)),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"search-bar"},r.a.createElement("input",{className:"search-txt",name:"",placeholder:"Buscar Proyectos",onFocus:function(){e.searchBarClicked=!0},onBlur:function(){e.searchBarClicked=!1},style:{backgroundColor:this.searchBarClicked?"#F4F4F4":"#E5E5E5",borderColor:this.searchBarClicked?"#E5E5E5":"rgba(0,0,0,0)",borderStyle:this.searchBarClicked?"solid":"",borderWidth:this.searchBarClicked?"1.3px":""}}),r.a.createElement("button",{className:"search-btn"},"Buscar"))}}]),t}(n.Component),Xe=Object(d.a)(Ge.prototype,"searchBarClicked",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ve=Ge))||Ve),rt=Object(Pe.a)(nt),it=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("section",{className:"project-topbar"},r.a.createElement(rt,null),r.a.createElement("div",{className:"actions"},r.a.createElement("button",{className:"green-button"},r.a.createElement("img",{src:"./assets/gen-icons/folder.svg",alt:""})," Crear carpeta"),r.a.createElement("button",{className:"green-button",onClick:function(){_e.onCreateProject()}},r.a.createElement("img",{src:"./assets/gen-icons/rocket.svg",alt:""})," Crear proyecto")))}}]),t}(n.Component),ot=Object(Pe.a)(it),ct=Object(Pe.a)(function(e){var t=e.name,a=e.date;return r.a.createElement("div",{className:"project-card"},r.a.createElement("h4",{className:"project-name"},t),r.a.createElement("img",{src:"./assets/gen-icons/rocket.svg",alt:""}),r.a.createElement("p",{className:"project-date"},a))}),lt=Object(Pe.a)((Je=function(e){function t(e){var a;return Object(c.a)(this,t),a=Object(s.a)(this,Object(u.a)(t).call(this,e)),Object(m.a)(a,"signInForm",Ze,Object(b.a)(a)),Object(m.a)(a,"newProjectName",Ke,Object(b.a)(a)),a.renderProjects=function(){return _e.projects.map(function(e){return r.a.createElement(ct,{name:e.projectName,date:e.creationDate})})},Object(h.e)(function(){ke.isLogged?e.history.push("/projects"):e.history.push("/")}),a}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"projects"},r.a.createElement(xe,null),r.a.createElement("div",{className:"projects-layout"},r.a.createElement(Te,{title:Ae.navBarTitle}),r.a.createElement(ot,null),r.a.createElement("div",{className:"projects-div",style:{alignItems:_e.projects.length>0?"flex-start":"center",alignContent:_e.projects.length>0?"flex-start":"center",justifyContent:_e.projects.length>0?"flex-start":"center"}},_e.showNewProjectForm?r.a.createElement("div",{className:"create-project-div"},r.a.createElement(at,null)):"",_e.projects.length>0?r.a.createElement("div",{className:"projects-view"},this.renderProjects()):r.a.createElement("div",{className:"no-projects-view"},r.a.createElement("img",{src:"./assets/birds-illustration.png",alt:"",width:"220"}),r.a.createElement("h3",null,"\xa1Bienvenido a BioViz, Sebasti\xe1n!"),r.a.createElement("p",null,"Aqu\xed aparecer\xe1n tus proyectos para que puedas gestionarlos. ",r.a.createElement("br",null)," Crea carpertas y organiza."),r.a.createElement("button",{onClick:function(){_e.onCreateProject()}},"Crea un nuevo proyecto")))))}}]),t}(r.a.Component),Ze=Object(d.a)(Je.prototype,"signInForm",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ke=Object(d.a)(Je.prototype,"newProjectName",[h.l],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Ye=Je))||Ye,st=Object(Pe.a)(lt),ut=function(e){function t(e){return Object(c.a)(this,t),Object(s.a)(this,Object(u.a)(t).call(this,e))}return Object(p.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"App"},r.a.createElement(He.a,null,r.a.createElement(Ce.b,{exact:!0,path:"/",component:Ue}),r.a.createElement(Ce.b,{exact:!0,path:"/home",component:qe}),r.a.createElement(Ce.b,{exact:!0,path:"/projects",component:st})))}}]),t}(n.Component),pt=Object(Pe.a)(ut);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(pt,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[44,1,2]]]);
//# sourceMappingURL=main.72a390f2.chunk.js.map